{
  "test_suite": "int_Datenfluss_zwischen_Modulen",
  "timestamp": "2025-06-22T14:30:15Z",
  "status": "SUCCESS",
  "test_cases": [
    {
      "id": "INT-001",
      "name": "Verkauf im Kassensystem mit Kundenreferenz",
      "description": "Prüft, ob ein Verkauf im Kassensystem korrekt an CRM und FIBU weitergegeben wird",
      "modules": ["kasse-service", "crm-service", "fibu-service"],
      "setup": {
        "description": "Initialisierung der Testumgebung mit Testdaten",
        "status": "COMPLETED"
      },
      "execution": {
        "steps": [
          {
            "description": "Kundenidentifikation im Kassensystem",
            "status": "PASSED",
            "duration_ms": 245
          },
          {
            "description": "Erfassung eines Verkaufs im Kassensystem",
            "status": "PASSED",
            "duration_ms": 312
          },
          {
            "description": "Abschluss des Verkaufs und Zahlungsabwicklung",
            "status": "PASSED",
            "duration_ms": 528
          },
          {
            "description": "Warten auf Event-Verarbeitung",
            "status": "PASSED",
            "duration_ms": 1245
          }
        ],
        "status": "PASSED",
        "duration_ms": 2330
      },
      "validation": {
        "checks": [
          {
            "description": "Prüfung der Kundenhistorie im CRM",
            "expected": "Verkaufstransaktion in Kundenhistorie vorhanden",
            "actual": "Verkaufstransaktion in Kundenhistorie vorhanden",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der Buchung in FIBU",
            "expected": "Buchungssatz mit korrektem Betrag und Konten",
            "actual": "Buchungssatz mit korrektem Betrag und Konten",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der Konsistenz zwischen Modulen",
            "expected": "Übereinstimmende Transaktions-IDs in allen Modulen",
            "actual": "Übereinstimmende Transaktions-IDs in allen Modulen",
            "status": "PASSED"
          }
        ],
        "status": "PASSED"
      },
      "status": "PASSED",
      "duration_ms": 2845
    },
    {
      "id": "INT-002",
      "name": "Erstellung einer Rechnung in FIBU",
      "description": "Prüft, ob eine in FIBU erstellte Rechnung korrekt an CRM weitergegeben wird",
      "modules": ["fibu-service", "crm-service"],
      "setup": {
        "description": "Initialisierung der Testumgebung mit Testdaten",
        "status": "COMPLETED"
      },
      "execution": {
        "steps": [
          {
            "description": "Erstellung einer Rechnung in FIBU",
            "status": "PASSED",
            "duration_ms": 412
          },
          {
            "description": "Zuordnung zu einem Kunden",
            "status": "PASSED",
            "duration_ms": 156
          },
          {
            "description": "Speicherung und Freigabe der Rechnung",
            "status": "PASSED",
            "duration_ms": 287
          },
          {
            "description": "Warten auf Event-Verarbeitung",
            "status": "PASSED",
            "duration_ms": 1023
          }
        ],
        "status": "PASSED",
        "duration_ms": 1878
      },
      "validation": {
        "checks": [
          {
            "description": "Prüfung der Kundenhistorie im CRM",
            "expected": "Rechnung in Kundenhistorie vorhanden",
            "actual": "Rechnung in Kundenhistorie vorhanden",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der offenen Posten in FIBU",
            "expected": "Offener Posten mit korrektem Betrag",
            "actual": "Offener Posten mit korrektem Betrag",
            "status": "PASSED"
          }
        ],
        "status": "PASSED"
      },
      "status": "PASSED",
      "duration_ms": 2145
    },
    {
      "id": "INT-003",
      "name": "Kundenanlage im CRM",
      "description": "Prüft, ob ein im CRM angelegter Kunde korrekt an FIBU und Kasse weitergegeben wird",
      "modules": ["crm-service", "fibu-service", "kasse-service"],
      "setup": {
        "description": "Initialisierung der Testumgebung",
        "status": "COMPLETED"
      },
      "execution": {
        "steps": [
          {
            "description": "Anlage eines neuen Kunden im CRM",
            "status": "PASSED",
            "duration_ms": 356
          },
          {
            "description": "Erfassung von Adress- und Kontaktdaten",
            "status": "PASSED",
            "duration_ms": 289
          },
          {
            "description": "Speicherung des Kunden",
            "status": "PASSED",
            "duration_ms": 178
          },
          {
            "description": "Warten auf Event-Verarbeitung",
            "status": "PASSED",
            "duration_ms": 1156
          }
        ],
        "status": "PASSED",
        "duration_ms": 1979
      },
      "validation": {
        "checks": [
          {
            "description": "Prüfung der Kundendaten in FIBU",
            "expected": "Kunde mit gleicher ID und Stammdaten vorhanden",
            "actual": "Kunde mit gleicher ID und Stammdaten vorhanden",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der Kundendaten im Kassensystem",
            "expected": "Kunde in Kundensuche auffindbar",
            "actual": "Kunde in Kundensuche auffindbar",
            "status": "PASSED"
          }
        ],
        "status": "PASSED"
      },
      "status": "PASSED",
      "duration_ms": 2356
    },
    {
      "id": "INT-004",
      "name": "Aktualisierung von Kundendaten",
      "description": "Prüft, ob Änderungen an Kundendaten im CRM korrekt an andere Module propagiert werden",
      "modules": ["crm-service", "fibu-service", "kasse-service"],
      "setup": {
        "description": "Initialisierung der Testumgebung mit existierendem Kunden",
        "status": "COMPLETED"
      },
      "execution": {
        "steps": [
          {
            "description": "Änderung der Adresse eines Kunden im CRM",
            "status": "PASSED",
            "duration_ms": 267
          },
          {
            "description": "Speicherung der Änderungen",
            "status": "PASSED",
            "duration_ms": 189
          },
          {
            "description": "Warten auf Event-Verarbeitung",
            "status": "PASSED",
            "duration_ms": 1078
          }
        ],
        "status": "PASSED",
        "duration_ms": 1534
      },
      "validation": {
        "checks": [
          {
            "description": "Prüfung der aktualisierten Adresse in FIBU",
            "expected": "Aktualisierte Adresse in FIBU vorhanden",
            "actual": "Aktualisierte Adresse in FIBU vorhanden",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der aktualisierten Adresse im Kassensystem",
            "expected": "Aktualisierte Adresse im Kassensystem vorhanden",
            "actual": "Aktualisierte Adresse im Kassensystem vorhanden",
            "status": "PASSED"
          }
        ],
        "status": "PASSED"
      },
      "status": "PASSED",
      "duration_ms": 1845
    },
    {
      "id": "INT-005",
      "name": "Fehlerbehandlung bei Datenfluss",
      "description": "Prüft die korrekte Fehlerbehandlung bei temporären Ausfällen",
      "modules": ["event-bus", "fibu-service", "crm-service"],
      "setup": {
        "description": "Initialisierung der Testumgebung mit simuliertem Ausfall",
        "status": "COMPLETED"
      },
      "execution": {
        "steps": [
          {
            "description": "Erstellung einer Buchung in FIBU",
            "status": "PASSED",
            "duration_ms": 324
          },
          {
            "description": "Simulation eines temporären Ausfalls des CRM-Service",
            "status": "PASSED",
            "duration_ms": 156
          },
          {
            "description": "Warten auf Wiederherstellung und Retry-Mechanismus",
            "status": "PASSED",
            "duration_ms": 5234
          }
        ],
        "status": "PASSED",
        "duration_ms": 5714
      },
      "validation": {
        "checks": [
          {
            "description": "Prüfung der Dead-Letter-Queue",
            "expected": "Nachricht in DLQ mit Retry-Informationen",
            "actual": "Nachricht in DLQ mit Retry-Informationen",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der automatischen Wiederholung",
            "expected": "Nachricht nach Wiederherstellung erfolgreich verarbeitet",
            "actual": "Nachricht nach Wiederherstellung erfolgreich verarbeitet",
            "status": "PASSED"
          },
          {
            "description": "Prüfung der Daten im CRM nach Wiederherstellung",
            "expected": "Daten korrekt im CRM angekommen",
            "actual": "Daten korrekt im CRM angekommen",
            "status": "PASSED"
          }
        ],
        "status": "PASSED"
      },
      "status": "PASSED",
      "duration_ms": 6023
    }
  ],
  "summary": {
    "total": 5,
    "passed": 5,
    "failed": 0,
    "skipped": 0,
    "duration_ms": 15189,
    "success_rate": 100
  },
  "environment": {
    "name": "integration-test",
    "services": {
      "api-gateway": "1.2.0",
      "auth-service": "1.1.5",
      "event-bus": "1.3.2",
      "fibu-service": "1.0.0",
      "crm-service": "1.0.0",
      "kasse-service": "1.0.0",
      "bi-service": "1.0.0"
    }
  }
} 