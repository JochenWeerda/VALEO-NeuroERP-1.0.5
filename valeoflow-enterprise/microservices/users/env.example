# VALEO-Die NeuroERP Users Microservice Environment Configuration
# Kopieren Sie diese Datei zu .env und passen Sie die Werte an

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3004
NODE_ENV=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=valeoflow_users
DB_USER=postgres
DB_PASSWORD=password
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-key

# Account Locking
MAX_LOGIN_ATTEMPTS=4
LOCK_DURATION_MINUTES=15

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_DIR=logs
LOG_MAX_SIZE=5242880
LOG_MAX_FILES=5

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=*
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# MONITORING & METRICS
# =============================================================================
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000
PROMETHEUS_ENABLED=true

# =============================================================================
# EMAIL CONFIGURATION (für Password Reset)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@valeoflow.com

# =============================================================================
# REDIS CONFIGURATION (optional für Caching)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=false

# =============================================================================
# SCHEDULED TASKS
# =============================================================================
CLEANUP_SCHEDULE=0 2 * * *
SESSION_CLEANUP_ENABLED=true
TOKEN_CLEANUP_ENABLED=true

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=true
SWAGGER_PATH=/api-docs

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# =============================================================================
# AUDIT & COMPLIANCE
# =============================================================================
AUDIT_LOGGING_ENABLED=true
ACTIVITY_LOG_RETENTION_DAYS=90
SECURITY_LOG_RETENTION_DAYS=365

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================
# L3 ERP Integration
L3_ERP_ENABLED=true
L3_ERP_HOST=localhost
L3_ERP_PORT=8080
L3_ERP_API_KEY=

# API Gateway Integration
API_GATEWAY_URL=http://localhost:3000
API_GATEWAY_TIMEOUT=5000

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Docker
DOCKER_IMAGE_NAME=valeoflow-users
DOCKER_IMAGE_TAG=latest

# Kubernetes
K8S_NAMESPACE=valeoflow
K8S_SERVICE_NAME=users-service
K8S_REPLICAS=2

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 1 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# =============================================================================
# ALERTING & NOTIFICATIONS
# =============================================================================
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_RECIPIENTS=
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_PASSWORD_RESET=true
FEATURE_ACCOUNT_LOCKING=true
FEATURE_ACTIVITY_LOGGING=true
FEATURE_SALES_REP_INTEGRATION=true
FEATURE_L3_ERP_MIGRATION=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DB_NAME=valeoflow_users_test
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_USER=postgres
TEST_DB_PASSWORD=password

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# Production overrides (set NODE_ENV=production)
# JWT_SECRET=production-super-secret-key
# LOG_LEVEL=warn
# CORS_ORIGIN=https://valeoflow.com
# REDIS_ENABLED=true

# Development overrides (set NODE_ENV=development)
# LOG_LEVEL=debug
# VERBOSE_LOGGING=true
# ENABLE_SWAGGER=true

# =============================================================================
# NOTES
# =============================================================================
# 1. Ändern Sie JWT_SECRET in der Produktion
# 2. Konfigurieren Sie SMTP für Password Reset
# 3. Aktivieren Sie Redis für bessere Performance
# 4. Setzen Sie CORS_ORIGIN auf Ihre Domain
# 5. Konfigurieren Sie Backup-Strategien
# 6. Überprüfen Sie alle Passwörter und Secrets 